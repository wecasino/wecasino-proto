openapi: 3.0.1
info:
  title: Swagger Provider - OpenAPI 3.0
  description: |-
    This is wecasino provider swagger api docs
  termsOfService: http://swagger.io/terms/
  contact:
    email: apiteam@swagger.io
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: 1.0.11
externalDocs:
  description: Find out more about Swagger
  url: http://swagger.io
servers:
- url: /wecasino/openapi/v3
tags:
- name: RecorderReadService
  description: 遊戲記錄查詢服務
- name: ProviderService
  description: 其他查詢服務
paths:
  /v1/provider/dealers:
    get:
      tags:
      - ProviderService
      summary: 荷官資料
      operationId: ProviderService_ListDealers
      parameters:
      - name: codes
        in: query
        description: 代碼陣列
        style: form
        explode: true
        schema:
          type: array
          items:
            type: string
      - name: skip
        in: query
        description: 開始
        schema:
          type: string
          format: int64
      - name: limit
        in: query
        description: 筆數 預設 100
        schema:
          type: string
          format: int64
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderListDealersResponse'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/provider/dealers/{code}:
    get:
      tags:
      - ProviderService
      summary: 荷官資料
      operationId: ProviderService_GetDealer
      parameters:
      - name: code
        in: path
        description: 資源代碼
        required: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderDealer'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/provider/games:
    get:
      tags:
      - ProviderService
      summary: 取得即時遊戲列表
      operationId: ProviderService_ListGames
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderListGamesResponse'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/provider/games/{code}:
    get:
      tags:
      - ProviderService
      summary: 取得單一即時遊戲資訊
      operationId: ProviderService_GetGames
      parameters:
      - name: code
        in: path
        description: 資源代碼
        required: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderGameProvide'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/provider/games/{gameCode}:verify:
    post:
      tags:
      - ProviderService
      summary: 驗證
      operationId: ProviderService_VerifyGame
      parameters:
      - name: gameCode
        in: path
        description: 遊戲代碼
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProviderServiceVerifyGameBody'
        required: true
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                type: object
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
      x-codegen-request-body-name: body
  /v1/provider/rounds:
    get:
      tags:
      - RecorderReadService
      summary: 讀牌靴紀錄list
      operationId: RecorderReadService_ListRounds
      parameters:
      - name: tsFrom
        in: query
        description: 查詢起時
        schema:
          type: string
          format: date-time
      - name: tsTo
        in: query
        description: 查詢終時
        schema:
          type: string
          format: date-time
      - name: gameType
        in: query
        description: |-
          遊戲類型

           - GAME_TYPE_UNSPECIFIED: 未指定
           - BACCARAT: 百家樂
           - THEBIGBATTLE: 龍虎鬥
           - THREECARDS: 炸金花
           - BULLFIGHT: 牛牛
           - FANTAN: 番攤
           - SICBO: 骰寶
           - ROULETTE: 輪盤
           - LUCKYWHEEL: 幸運輪
        schema:
          type: string
          default: GAME_TYPE_UNSPECIFIED
          enum:
          - GAME_TYPE_UNSPECIFIED
          - BACCARAT
          - THEBIGBATTLE
          - THREECARDS
          - BULLFIGHT
          - FANTAN
          - SICBO
          - ROULETTE
          - LUCKYWHEEL
      - name: gameSubtype
        in: query
        description: 遊戲子類型
        schema:
          type: integer
          format: int32
      - name: supplier
        in: query
        description: 遊戲供應
        schema:
          type: string
      - name: gameCode
        in: query
        description: 遊戲代碼
        schema:
          type: string
      - name: searchAfter
        in: query
        description: pagination next page
        schema:
          type: string
      - name: searchBefore
        in: query
        description: pagination previous page
        schema:
          type: string
      - name: page
        in: query
        description: 頁數 1開始，0表示未填，改為1
        schema:
          type: string
          format: int64
      - name: pageSize
        in: query
        description: 每頁筆數
        schema:
          type: string
          format: int64
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderListRoundsRecordResponse'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/provider/shoes:
    get:
      tags:
      - RecorderReadService
      summary: 讀牌靴紀錄list
      operationId: RecorderReadService_ListShoe
      parameters:
      - name: tsFrom
        in: query
        description: 查詢起時
        schema:
          type: string
          format: date-time
      - name: tsTo
        in: query
        description: 查詢終時
        schema:
          type: string
          format: date-time
      - name: gameType
        in: query
        description: |-
          遊戲類型

           - GAME_TYPE_UNSPECIFIED: 未指定
           - BACCARAT: 百家樂
           - THEBIGBATTLE: 龍虎鬥
           - THREECARDS: 炸金花
           - BULLFIGHT: 牛牛
           - FANTAN: 番攤
           - SICBO: 骰寶
           - ROULETTE: 輪盤
           - LUCKYWHEEL: 幸運輪
        schema:
          type: string
          default: GAME_TYPE_UNSPECIFIED
          enum:
          - GAME_TYPE_UNSPECIFIED
          - BACCARAT
          - THEBIGBATTLE
          - THREECARDS
          - BULLFIGHT
          - FANTAN
          - SICBO
          - ROULETTE
          - LUCKYWHEEL
      - name: gameSubtype
        in: query
        description: 遊戲子類型
        schema:
          type: integer
          format: int32
      - name: supplier
        in: query
        description: 遊戲供應
        schema:
          type: string
      - name: gameCode
        in: query
        description: 遊戲代碼
        schema:
          type: string
      - name: searchAfter
        in: query
        description: pagination next page
        schema:
          type: string
      - name: searchBefore
        in: query
        description: pagination previous page
        schema:
          type: string
      - name: page
        in: query
        description: 頁數 1開始，0表示未填，改為1
        schema:
          type: string
          format: int64
      - name: pageSize
        in: query
        description: 每頁筆數
        schema:
          type: string
          format: int64
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderListShoesRecordResponse'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/recorder/rounds/{code}:
    get:
      tags:
      - RecorderReadService
      summary: 讀取指定靴紀錄
      operationId: RecorderReadService_GetRound
      parameters:
      - name: code
        in: path
        description: 資源代碼
        required: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderRoundRecord'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/recorder/rounds:current:
    get:
      tags:
      - RecorderReadService
      summary: 讀取目前指定靴紀錄
      operationId: RecorderReadService_GetCurrentRound
      parameters:
      - name: gameCode
        in: query
        description: 遊戲代碼
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderRoundRecord'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/recorder/shifts:
    get:
      tags:
      - RecorderReadService
      summary: 讀取班次紀錄List
      operationId: RecorderReadService_ListShifts
      parameters:
      - name: tsFrom
        in: query
        description: 查詢起時
        schema:
          type: string
          format: date-time
      - name: tsTo
        in: query
        description: 查詢終時
        schema:
          type: string
          format: date-time
      - name: gameType
        in: query
        description: |-
          遊戲類型

           - GAME_TYPE_UNSPECIFIED: 未指定
           - BACCARAT: 百家樂
           - THEBIGBATTLE: 龍虎鬥
           - THREECARDS: 炸金花
           - BULLFIGHT: 牛牛
           - FANTAN: 番攤
           - SICBO: 骰寶
           - ROULETTE: 輪盤
           - LUCKYWHEEL: 幸運輪
        schema:
          type: string
          default: GAME_TYPE_UNSPECIFIED
          enum:
          - GAME_TYPE_UNSPECIFIED
          - BACCARAT
          - THEBIGBATTLE
          - THREECARDS
          - BULLFIGHT
          - FANTAN
          - SICBO
          - ROULETTE
          - LUCKYWHEEL
      - name: gameSubtype
        in: query
        description: 遊戲子類型
        schema:
          type: integer
          format: int32
      - name: supplier
        in: query
        description: 遊戲供應
        schema:
          type: string
      - name: gameCode
        in: query
        description: 遊戲代碼
        schema:
          type: string
      - name: searchAfter
        in: query
        description: pagination next page
        schema:
          type: string
      - name: searchBefore
        in: query
        description: pagination previous page
        schema:
          type: string
      - name: page
        in: query
        description: 頁數 1開始，0表示未填，改為1
        schema:
          type: string
          format: int64
      - name: pageSize
        in: query
        description: 每頁筆數
        schema:
          type: string
          format: int64
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderListShiftsResponse'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/recorder/shifts/{code}:
    get:
      tags:
      - RecorderReadService
      summary: 讀取指定班次紀錄
      operationId: RecorderReadService_GetShift
      parameters:
      - name: code
        in: path
        description: 資源代碼
        required: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderShiftRecord'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/recorder/shifts:current:
    get:
      tags:
      - RecorderReadService
      summary: 讀取目前指定班次紀錄
      operationId: RecorderReadService_GetCurrentShift
      parameters:
      - name: gameCode
        in: query
        description: 遊戲代碼
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderShiftRecord'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/recorder/shoes/{code}:
    get:
      tags:
      - RecorderReadService
      summary: 讀取指定靴紀錄
      operationId: RecorderReadService_GetShoe
      parameters:
      - name: code
        in: path
        description: 資源代碼
        required: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderShoeRecord'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
  /v1/recorder/shoes:current:
    get:
      tags:
      - RecorderReadService
      summary: 讀取目前指定靴紀錄
      operationId: RecorderReadService_GetCurrentShoe
      parameters:
      - name: gameCode
        in: query
        description: 遊戲代碼
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/recorderShoeRecord'
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpcStatus'
components:
  schemas:
    ProviderServiceVerifyGameBody:
      type: object
      properties:
        pattern:
          title: 驗證傳送接收的代碼
          type: array
          items:
            type: string
        name:
          title: 顯示名稱
          type: string
    gamesGameType:
      title: |-
        - GAME_TYPE_UNSPECIFIED: 未指定
         - BACCARAT: 百家樂
         - THEBIGBATTLE: 龍虎鬥
         - THREECARDS: 炸金花
         - BULLFIGHT: 牛牛
         - FANTAN: 番攤
         - SICBO: 骰寶
         - ROULETTE: 輪盤
         - LUCKYWHEEL: 幸運輪
      type: string
      default: GAME_TYPE_UNSPECIFIED
      enum:
      - GAME_TYPE_UNSPECIFIED
      - BACCARAT
      - THEBIGBATTLE
      - THREECARDS
      - BULLFIGHT
      - FANTAN
      - SICBO
      - ROULETTE
      - LUCKYWHEEL
    gamesWinType:
      title: |-
        - WIN_TYPE_UNSPECIFIED: 未指定
         - LOSE: 輸
         - WIN: 贏
         - TIE: 和
      type: string
      default: WIN_TYPE_UNSPECIFIED
      enum:
      - WIN_TYPE_UNSPECIFIED
      - LOSE
      - WIN
      - TIE
    protobufAny:
      type: object
      properties:
        '@type':
          type: string
          description: |-
            A URL/resource name that uniquely identifies the type of the serialized
            protocol buffer message. This string must contain at least
            one "/" character. The last segment of the URL's path must represent
            the fully qualified name of the type (as in
            `path/google.protobuf.Duration`). The name should be in a canonical form
            (e.g., leading "." is not accepted).

            In practice, teams usually precompile into the binary all types that they
            expect it to use in the context of Any. However, for URLs which use the
            scheme `http`, `https`, or no scheme, one can optionally set up a type
            server that maps type URLs to message definitions as follows:

            * If no scheme is provided, `https` is assumed.
            * An HTTP GET on the URL must yield a [google.protobuf.Type][]
              value in binary format, or produce an error.
            * Applications are allowed to cache lookup results based on the
              URL, or have them precompiled into a binary to avoid any
              lookup. Therefore, binary compatibility needs to be preserved
              on changes to types. (Use versioned type names to manage
              breaking changes.)

            Note: this functionality is not currently available in the official
            protobuf release, and it is not used for type URLs beginning with
            type.googleapis.com.

            Schemes other than `http`, `https` (or the empty scheme) might be
            used with implementation specific semantics.
      additionalProperties:
        type: object
      description: |-
        `Any` contains an arbitrary serialized protocol buffer message along with a
        URL that describes the type of the serialized message.

        Protobuf library provides support to pack/unpack Any values in the form
        of utility functions or additional generated methods of the Any type.

        Example 1: Pack and unpack a message in C++.

            Foo foo = ...;
            Any any;
            any.PackFrom(foo);
            ...
            if (any.UnpackTo(&foo)) {
              ...
            }

        Example 2: Pack and unpack a message in Java.

            Foo foo = ...;
            Any any = Any.pack(foo);
            ...
            if (any.is(Foo.class)) {
              foo = any.unpack(Foo.class);
            }
            // or ...
            if (any.isSameTypeAs(Foo.getDefaultInstance())) {
              foo = any.unpack(Foo.getDefaultInstance());
            }

        Example 3: Pack and unpack a message in Python.

            foo = Foo(...)
            any = Any()
            any.Pack(foo)
            ...
            if any.Is(Foo.DESCRIPTOR):
              any.Unpack(foo)
              ...

        Example 4: Pack and unpack a message in Go

             foo := &pb.Foo{...}
             any, err := anypb.New(foo)
             if err != nil {
               ...
             }
             ...
             foo := &pb.Foo{}
             if err := any.UnmarshalTo(foo); err != nil {
               ...
             }

        The pack methods provided by protobuf library will by default use
        'type.googleapis.com/full.type.name' as the type URL and the unpack
        methods only use the fully qualified type name after the last '/'
        in the type URL, for example "foo.bar.com/x/y.z" will yield type
        name "y.z".

        JSON

        The JSON representation of an `Any` value uses the regular
        representation of the deserialized, embedded message, with an
        additional field `@type` which contains the type URL. Example:

            package google.profile;
            message Person {
              string first_name = 1;
              string last_name = 2;
            }

            {
              "@type": "type.googleapis.com/google.profile.Person",
              "firstName": <string>,
              "lastName": <string>
            }

        If the embedded message type is well-known and has a custom JSON
        representation, that representation will be embedded adding a field
        `value` which holds the custom JSON in addition to the `@type`
        field. Example (for message [google.protobuf.Duration][]):

            {
              "@type": "type.googleapis.com/google.protobuf.Duration",
              "value": "1.212s"
            }
    recorderArticle:
      type: object
      properties:
        title:
          title: 標題
          type: string
        subtitle:
          title: 副標
          type: string
        text:
          title: 內文
          type: string
        medias:
          title: "附加媒體：key: 媒體資源代碼；value: 媒體內容。"
          type: object
          additionalProperties:
            type: string
        sections:
          title: 子文檔
          type: object
          additionalProperties:
            $ref: '#/components/schemas/recorderArticle'
    recorderBetStep:
      title: 下注步驟
      type: string
      description: |-
        - BET_STEP_UNSPECIFIED: 未指定，此步驟與下注無關
         - ROUND_BET: 開始下注
         - NO_MORE_BET: 停止下注
         - CARD: 牌異動
      default: BET_STEP_UNSPECIFIED
      enum:
      - BET_STEP_UNSPECIFIED
      - ROUND_BET
      - NO_MORE_BET
      - CARD
    recorderCard:
      title: 卡牌，代表在此局中使用的各類物品
      type: object
      properties:
        id:
          title: 卡牌ID：牌唯一碼
          type: string
        code:
          title: 卡牌代碼
          type: string
        index:
          title: 順序
          type: string
          format: int64
        visible:
          title: 可見
          type: boolean
        status:
          type: string
          description: 橫放、直放...
          format: int64
        plainText:
          title: 明文
          type: string
        signature:
          title: 簽章
          type: string
        signAlgorithm:
          title: 簽章方法
          type: string
    recorderCardList:
      title: 卡牌列表
      type: object
      properties:
        cardType:
          type: string
        list:
          title: 列表
          type: array
          items:
            $ref: '#/components/schemas/recorderCard'
        pattern:
          title: 牌型
          type: integer
          format: int32
    recorderDealer:
      type: object
      properties:
        code:
          title: 代碼
          type: string
        name:
          title: 名稱
          type: string
        age:
          title: 年齡
          type: string
        tags:
          title: Tags
          type: object
          additionalProperties:
            type: string
        intro:
          $ref: '#/components/schemas/recorderArticle'
        posts:
          title: 貼文
          type: array
          items:
            $ref: '#/components/schemas/recorderArticle'
    recorderDeck:
      type: object
      properties:
        cards:
          $ref: '#/components/schemas/recorderCardList'
        startIndex:
          title: 起始位置（削牌後）
          type: string
          format: int64
        cutIndex:
          title: 切牌位置
          type: string
          format: int64
        index:
          title: 目前位置
          type: string
          format: int64
    recorderGameProvide:
      title: 遊戲供應
      type: object
      properties:
        supplier:
          title: 遊戲供應
          type: string
        gameType:
          title: 遊戲類型
          type: string
        gameSubtype:
          title: 遊戲子類型
          type: string
        gameCode:
          title: 遊戲代碼
          type: string
        tags:
          title: 標籤
          type: object
          additionalProperties:
            type: string
        state:
          $ref: '#/components/schemas/recorderGameProvideState'
        players:
          title: 玩家入座
          type: object
          additionalProperties:
            type: string
        playersName:
          title: 玩家姓名
          type: object
          additionalProperties:
            type: string
        medias:
          title: "附加媒體：key: 媒體資源代碼；value: 媒體內容。"
          type: object
          additionalProperties:
            type: string
        liveStreams:
          title: 直播參數
          type: object
          additionalProperties:
            $ref: '#/components/schemas/recorderLiveStreamParams'
        lastRoundCode:
          title: 最後一局
          type: string
    recorderGameProvideState:
      title: |-
        - GAME_PROVIDE_STATE_UNSPECIFIED: 未指定
         - GAME_PROVIDE_AVAILABLE: 提供
         - GAME_PROVIDE_MAINTEN_AFTER_ROUND: 此局結束後維護
         - GAME_PROVIDE_IN_MAINTENANCE: 維護
         - GAME_PROVIDE_CLOSE_AFTER_ROUND: 此局結束後關閉
         - GAME_PROVIDE_CLOSE: 此局結束後關閉
         - GAME_PROVIDE_AVAILABLE_AFTER_ROUND: 此局結束後關閉
      type: string
      default: GAME_PROVIDE_STATE_UNSPECIFIED
      enum:
      - GAME_PROVIDE_STATE_UNSPECIFIED
      - GAME_PROVIDE_AVAILABLE
      - GAME_PROVIDE_MAINTEN_AFTER_ROUND
      - GAME_PROVIDE_IN_MAINTENANCE
      - GAME_PROVIDE_CLOSE_AFTER_ROUND
      - GAME_PROVIDE_CLOSE
      - GAME_PROVIDE_AVAILABLE_AFTER_ROUND
    recorderListDealersResponse:
      type: object
      properties:
        dealers:
          title: 荷官資料
          type: array
          items:
            $ref: '#/components/schemas/recorderDealer'
    recorderListGamesResponse:
      type: object
      properties:
        gameProvides:
          title: 遊戲列表
          type: array
          items:
            $ref: '#/components/schemas/recorderGameProvide'
    recorderListRoundsRecordResponse:
      type: object
      properties:
        roundRecord:
          title: rounds
          type: array
          items:
            $ref: '#/components/schemas/recorderRoundRecord'
        total:
          title: 總數
          type: string
          format: int64
    recorderListShiftsResponse:
      type: object
      properties:
        shiftRecord:
          title: shifts
          type: array
          items:
            $ref: '#/components/schemas/recorderShiftRecord'
        total:
          title: 總數
          type: string
          format: int64
    recorderListShoesRecordResponse:
      type: object
      properties:
        shoeRecord:
          title: shoes
          type: array
          items:
            $ref: '#/components/schemas/recorderShoeRecord'
        total:
          title: 總數
          type: string
          format: int64
    recorderLiveStreamParams:
      title: 直播資訊
      type: object
      properties:
        code:
          title: 串流代碼
          type: string
        app:
          title: 應用
          type: string
        channel:
          title: 頻道
          type: string
    recorderRoundRecord:
      title: 紀錄
      type: object
      properties:
        id:
          title: 紀錄ID
          pattern: "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
          type: string
          format: byte
        supplier:
          title: 遊戲供應
          type: string
        gameType:
          title: 遊戲類型
          type: string
        gameSubtype:
          title: 遊戲子類型
          type: string
        gameVersion:
          title: 遊戲版本
          type: string
        gameCode:
          title: 遊戲代碼
          type: string
        tableCode:
          title: 桌代碼
          type: string
        shiftCode:
          title: 班代碼
          type: string
        shiftRound:
          title: 此排班局數
          type: string
          format: int64
        shoeCode:
          title: 使用靴代碼
          type: string
        shoeRound:
          title: 使用此洗牌第幾局，從1開始計算
          type: string
          format: int64
        roundCode:
          title: 局代碼
          type: string
        tags:
          title: 標籤
          type: object
          additionalProperties:
            type: string
        tsStart:
          title: 開始時間
          type: string
          format: date-time
        betStep:
          $ref: '#/components/schemas/recorderBetStep'
        seats:
          title: |-
            座位組
            key: SeatCode, value: Seat
          type: object
          additionalProperties:
            $ref: '#/components/schemas/recorderSeat'
        players:
          title: |-
            玩家入座
            key: SeatCode, value: 玩家code。
          type: object
          additionalProperties:
            type: string
        playersName:
          title: |-
            玩家姓名
            key: 玩家code, value: 玩家名稱。
          type: object
          additionalProperties:
            type: string
        process:
          title: 歷程
          type: array
          items:
            $ref: '#/components/schemas/recorderStep'
        isEnd:
          title: 結束
          type: boolean
        tsEnd:
          title: 結束時間
          type: string
          format: date-time
        cancel:
          title: 取消
          type: boolean
        cancelCode:
          title: 取消代碼：CancelReasonCode
          type: string
        cancelMessage:
          title: 取消備註
          type: string
        winType:
          title: 贏方
          type: object
          additionalProperties:
            $ref: '#/components/schemas/gamesWinType'
        medias:
          title: "附加媒體：key: 媒體資源代碼；value: 媒體內容。"
          type: object
          additionalProperties:
            type: string
        fortuneRates:
          title: 財神倍率
          type: object
          additionalProperties:
            type: string
            format: int64
    recorderSeat:
      title: 座位
      type: object
      properties:
        code:
          title: 座位功能代碼：SeatCode
          type: integer
          format: int32
        cards:
          title: |-
            各類手牌
            key: ResourceTypeCode, value: 卡牌陣列
          type: object
          additionalProperties:
            $ref: '#/components/schemas/recorderCardList'
    recorderShiftRecord:
      title: 排班
      type: object
      properties:
        id:
          title: 紀錄ID
          pattern: "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
          type: string
          format: byte
        supplier:
          title: 遊戲供應
          type: string
        gameType:
          title: 遊戲類型
          type: string
        gameSubtype:
          title: 遊戲子類型
          type: string
        gameVersion:
          title: 遊戲版本
          type: string
        gameCode:
          title: 遊戲代碼
          type: string
        tableCode:
          title: 桌代碼
          type: string
        shiftCode:
          title: 班代碼
          type: string
        tsStart:
          title: 開始時間
          type: string
          format: date-time
        tags:
          title: 標籤
          type: object
          additionalProperties:
            type: string
        roundCodes:
          title: 執行遊戲局
          type: array
          items:
            type: string
        shoeCodes:
          title: 洗牌
          type: array
          items:
            type: string
        isEnd:
          title: 結束
          type: boolean
        tsEnd:
          title: 結束時間
          type: string
          format: date-time
    recorderShoeRecord:
      title: 靴紀錄
      type: object
      properties:
        id:
          title: 紀錄ID
          pattern: "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
          type: string
          format: byte
        supplier:
          title: 遊戲供應
          type: string
        gameType:
          title: 遊戲類型
          type: string
        gameSubtype:
          title: 遊戲子類型
          type: string
        gameVersion:
          title: 遊戲版本
          type: string
        gameCode:
          title: 遊戲代碼
          type: string
        tableCode:
          title: 桌代碼
          type: string
        shiftCode:
          title: 班代碼
          type: string
        shoeCode:
          title: 使用洗牌代碼
          type: string
        tsStart:
          title: 此牌靴開始使用時間
          type: string
          format: date-time
        decks:
          title: cardList
          type: object
          additionalProperties:
            $ref: '#/components/schemas/recorderDeck'
        isEnd:
          title: 此牌靴已使用完畢，不可再使用
          type: boolean
        tsEnd:
          title: 牌靴使用完畢時間
          type: string
          format: date-time
    recorderStep:
      title: 遊戲步驟
      type: object
      properties:
        code:
          title: 步驟代碼：StepCode
          type: integer
          format: int32
        seat:
          title: 玩家、執行者：SeatCode
          type: integer
          format: int32
        timestamp:
          title: 時間戳
          type: string
          format: date-time
        actions:
          title: 執行動作
          type: array
          items:
            $ref: '#/components/schemas/recorderStepAction'
        error:
          title: 執行錯誤
          type: string
        cancel:
          title: 取消
          type: boolean
        duration:
          title: 分配毫秒數
          type: string
          format: int64
        betStep:
          $ref: '#/components/schemas/recorderBetStep'
    recorderStepAction:
      title: 執行動作：對某些資源進行增、刪、移轉
      type: object
      properties:
        code:
          title: 行為說明代碼
          type: string
        type:
          $ref: '#/components/schemas/recorderStepActionType'
        sourceSeat:
          title: 資源擁有座位。
          type: integer
          format: int32
        targetSeat:
          title: 資源轉移目標座位。
          type: integer
          format: int32
        cards:
          title: |-
            目標卡牌資源
            key: ResourceTypeCode, value: 卡牌陣列
          type: object
          additionalProperties:
            $ref: '#/components/schemas/recorderCardList'
        data:
          $ref: '#/components/schemas/protobufAny'
    recorderStepActionType:
      title: 動作類型
      type: string
      description: |-
        - STEP_ACTION_TYPE_UNSPECIFIED: 未指定
         - ADD: 派發資源
         - SET: 設定指定資源
         - SETALL: 改寫全部資源;
         - REMOVE: 將資源從場上移除
         - READ: 讀取卡牌資料
         - READ_UNVISIBLE: 讀卡但不可見
         - TRANSFER: 移轉資源
         - VISIBLE: 卡片正反面
         - STATUS: 卡牌狀態改變
         - NONE: 此步驟不須修改資源
         - WIN: 決定輸贏
      default: STEP_ACTION_TYPE_UNSPECIFIED
      enum:
      - STEP_ACTION_TYPE_UNSPECIFIED
      - ADD
      - SET
      - SETALL
      - REMOVE
      - READ
      - READ_UNVISIBLE
      - TRANSFER
      - VISIBLE
      - STATUS
      - NONE
      - WIN
    rpcStatus:
      type: object
      properties:
        code:
          type: integer
          format: int32
        message:
          type: string
        details:
          type: array
          items:
            $ref: '#/components/schemas/protobufAny'
x-original-swagger-version: "2.0"
