version: v2
clean: true
managed:
  enabled: true
  disable:
    - module: buf.build/googleapis/googleapis
    - module: buf.build/grpc-ecosystem/grpc-gateway
  override:
    - file_option: go_package_prefix
      value: github.com/wecasino/wecasino-proto/pbgo
    - file_option: java_package_prefix
      value: "com.wecasino.proto"

plugins:

  - remote: buf.build/grpc-ecosystem/openapiv2
    out: docs
    opt:
      - output_format=yaml
      - enums_as_ints=true
      - disable_service_tags=true
      - remove_internal_comments=true

  - remote: buf.build/grpc-ecosystem/gateway:v2.19.1
    out: pbgo
    opt:
      - paths=source_relative

  - remote: buf.build/protocolbuffers/go
    out: pbgo
    opt:
      - paths=source_relative

  - remote: buf.build/grpc/go
    out: pbgo
    opt:
      - paths=source_relative

  - remote: buf.build/protocolbuffers/java:v25.3
    out: pbjava

  - remote: buf.build/bufbuild/connect-es:v0.9.1
    out: es/src/pb

  - remote: buf.build/bufbuild/connect-es:v0.9.1
    out: es/lib/pb

  - remote: buf.build/bufbuild/es:v1.10.0
    out: es/src/pb
    opt:
      - target=ts
      - import_extension=none